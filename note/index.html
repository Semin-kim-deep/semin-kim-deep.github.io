<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ground & Grid Note</title>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Pretendard', sans-serif;
            color: #404040;
            background-color: white;
        }
        body {
            display: flex;
            flex-direction: column;
        }
        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 28px;
            width: 100%;
            box-sizing: border-box;
        }
        .header-title {
            font-family: 'Jost', sans-serif;
            font-weight: 700;
            color: black;
            margin: 0;
            text-align: center;
            flex-grow: 1;
            flex: 1 1 auto;
            text-align: center;
        }
        .header-left, .header-right {
            flex: 0 0 auto;
            display: flex;
            align-items: center;
        }
        .subpc {
            display: block;
            font-size: 14pt;
        }
        .subm {
            display: none;
        }
        .mobile-title {
            display: none;
        }
        .pc-title {
            display: block;
            font-size: 36pt;
        }
        .hamburger {
            width: 18px;
            height: 16px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer;
            margin-top: 10px;
        }
        .hamburger span {
            width: 100%;
            height: 2px;
            background-color: #7f7f7f;
        }
        .subtitle {
            font-size: 13pt;
            text-align: center;
            max-width: 1000px;
            line-height: 1.4;
            padding-bottom: 0px;
            color: black;
        }
        .subsub {
            font-size: 12pt;
            text-align: center;
            max-width: 1000px;
            line-height: 1.4;
            padding-top: 20px;
            padding-bottom: 20px;
            color: #404040;
        }
        .subsub-pc{
            font-size: 12pt;
        }
        .subsub-m{
            display: none;
        }
        .calendar-container {
            position: relative;
            width: 1220px;
            margin-top: 20px;
            margin-bottom: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .calendar-content {
            display: flex;
            width: 1120px;
            height: 560px;
        }
        .image-container {
            width: 560px;
            height: 560px;
            position: relative;
            overflow: hidden;
            opacity: 0; /* 초기에 투명하게 설정 */
            transition: opacity 0.3s ease-in-out;
        }
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .swipe-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 1;
            transform: translateX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-transform-style: preserve-3d;
            transform-style: preserve-3d;
        }
        .text-content {
            width: 560px;
            height: 560px;
            padding: 0 0 0 40px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }
        .text-content-inner {
            border-top: 2px solid #000;
            border-bottom: 1px solid #000;
            padding: 20px 0;
            font-size: 14pt;
            flex-grow: 1;
            overflow-y: auto;
            line-height: 1.8;
        }
        .text-content-inner b {
            font-size: 15pt;
            line-height: 1.8;
            color: #202020;
        }
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: #404040;
            font-size: 40.56px;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        .nav-button::before {
            content: '';
            display: inline-block;
            width: 0.52em;
            height: 0.52em;
            border-top: 1px solid currentColor;
            border-right: 1px solid currentColor;
            position: absolute;
        }
        .nav-button.prev {
            left: 0;
        }
        .nav-button.next {
            right: 0;
        }
        .nav-button.prev::before {
            transform: rotate(-135deg);
        }
        .nav-button.next::before {
            transform: rotate(45deg);
        }
        .white-section {
            width: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 100px 0;
        }
        .white-section .normalt {
            font-size: 14pt;
            text-align: center;
            max-width: 1000px;
            line-height: 1.9;
            padding-top:20px;
            color: #404040;
        }
        .image-1 {
            max-width: 100%;
            height: auto;
        }
        .button-container {
            margin-top: 50px;
        }
        .custom-button {
            width: 600px;
            height: 60px;
            background-color: transparent;
            border: 1px solid #000;
            font-family: 'Jost', sans-serif;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
        }
        .custom-button-content {
            display: flex;
            align-items: center;
        }
        .custom-button-arrow {
            width: 8px;
            height: 8px;
            border-top: 1px solid #000;
            border-right: 1px solid #000;
            transform: rotate(45deg);
            margin-left: 10px;
            transition: border-color 0.3s, transform 0.3s;
        }
        .custom-button:hover {
            background-color: #000;
            color: #fff;
        }
        .custom-button:hover .custom-button-arrow {
            border-color: #fff;
        }
        .custom-button a {
            color: inherit;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }
        .custom-button:hover a {
            color: #fff;
        }
        .menu-items {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background-color: #f5f3f2;
            transition: left 0.3s ease-in-out;
            padding: 40px;
            box-sizing: border-box;
            z-index: 1001;
            text-align: center;
        }
        .menu-items a {
            display: block;
            padding: 10px 0;
            text-decoration: none;
            color: #414141;
            font-family: 'Jost', sans-serif;
            font-size: 15px;
            font-weight: 700;
        }
        .menu-open {
            left: 0;
        }
        .dimmed-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1000;
        }
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 18px;
            cursor: pointer;
            width: 18px;
            height: 18px;
            line-height: 18px;
            text-align: center;
            color: #414141;
        }
        .close-btn::before,
        .close-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            background-color: #414141;
        }
        .close-btn::before {
            transform: rotate(45deg);
        }
        .close-btn::after {
            transform: rotate(-45deg);
        }
        .menu-title {
            font-family: 'Jost', sans-serif;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 24px;
            color: black;
        }
        .top-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: #ffffff;
            border: 1px solid #8a8a8a;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1000;
        }

        .top-button::before {
            content: '';
            width: 10px;
            height: 10px;
            border-top: 1px solid #404040;
            border-right: 1px solid #404040;
            transform: rotate(-45deg);
            margin-top: 4px;
        }
        .language-toggle {
            font-family: 'Pretendard', sans-serif;
            font-weight: 400;
            font-size: 12pt;
            color: #404040;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            margin-top: 10px;
        }

        @media (min-width: 1920px) {
            .header {
                padding-left: 56px;
                padding-right: 56px;
            }
        }

        .swipe-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 1;
            transition: none;
        }
        .dot-indicators {
            display: none;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 16px 0;
            margin-top: -8px;
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #D9D9D9;
            transition: all 0.3s ease;
        }

        .dot.active {
            background-color: #404040;
            transform: scale(1.2);
        }
        @media (max-width: 768px) {
            .header {
                padding: 20px 20px 0 20px;
                position: relative;
            }
            .dot-indicators {
                display: flex;
            }
            .pc-title {
                display: none;
            }
            .mobile-title {
                display: flex;
                flex-direction: column;
                align-items: center;
                font-size: 26.4px;
                line-height: 1.2;
                margin-bottom: 0;
            }
            .subtitle {
                font-size: 19.6px;
                font-weight: bold;
                padding-top: 10px;
            }
            .subpc {
                display: none;
            }
            .subm {
                display: inline-block;
                padding: 4px; 
                flex-direction: column;
                font-size: 14pt;
                line-height: 1.4;
            }
            .white-section .normalt {
                font-size: 12pt;
                text-align: center;
                max-width: 400px;
                line-height: 1.8;
                padding: 20px;
                color: #404040;
            }
            .title-year {
                margin-bottom: 5px;
            }
            .hamburger {
                position: absolute;
                left: 20px;
                top: 40px;
                transform: translateY(-50%);
                margin-top: 0;
            }
            .header-title {
                font-size: 26.4px;
            }
            .calendar-container {
                width: 100%;
                margin-top: 10px;
                margin-bottom: 10px;
            }
            .calendar-content {
                flex-direction: column;
                width: 100%;
                height: auto;
                position: relative;
            }
            .image-container {
                position: relative;
                width: 100%;
                padding-bottom: 100%;
                height: 0;
            }
            .swipe-image {
                object-fit: cover;
                object-position: center;
            }
            .text-content {
                width: 100%;
                height: auto;
                padding: 20px;
                font-size: 14pt; 
            }
            .text-content-inner {
                padding: 15px 0;
                font-size: 13pt;
                max-height: none;
                overflow-y: visible;
                flex-grow: 1;
                overflow-y: auto;
                line-height: 1.8;
                border-top: none;
                border-bottom: none;
            }
            .text-content-inner b {
                font-size: 15pt;
                line-height: 1.8;
                color: #202020;
            }
            .nav-button {
                top: 50%;
                position: absolute;
                transform: translateY(-50%);
                font-size: 24px;
                width: 40px;
                height: 40px;
                z-index: 10;
            }
            .nav-button.prev {
                left: 10px;
            }
            .nav-button.next {
                right: 10px;
            }
            .image-1 {
                width: 100%;
                height: auto;
                object-fit: cover;
                object-position: center;
            }
            .button-container {
                display: flex;
                justify-content: center;
                width: 100%;
                margin-top: 40px;
            }
            .custom-button {
                width: 80%; 
                height: 50px;
                font-size: 16px;
                align-items: center;
                color: #000;
                margin: 0 auto; 
            }
            .custom-button a {
                color: inherit;
                text-decoration: none;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
                height: 100%;
            }
            .custom-button-content {
                display: flex;
                align-items: center;
            }
            .subsub {
                display: block;
                padding-top: 10px;
                padding-bottom: 20px;
                color: #404040;
            }
            .subsub-pc{
                display: none;
            }
            .subsub-m{
                display: block !important;
                font-size: 13.5pt;
                line-height: 1.4;
                padding-left: 15px;
                padding-right: 15px;
            }
            .top-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 40px;
                height: 40px;
                background-color: #ffffff;
                border: 1px solid #8a8a8a;
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                z-index: 1000;
            }
            .top-button::before {
                content: '';
                width: 10px;
                height: 10px;
                border-top: 1px solid #404040;
                border-right: 1px solid #404040;
                transform: rotate(-45deg);
                margin-top: 4px;
            }
            .language-toggle {
                position: absolute;
                right: 20px;
                top: 40px;
                transform: translateY(-50%);
                margin-top: 0;
            }
        }
    </style>
</head>
<body>
    <div class="dimmed-background" id="dimmed-bg"></div>
    <div class="content">
        <header class="header">
            <div class="header-left">
                <div class="hamburger" id="hamburger-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <h1 class="header-title">
                <span class="pc-title">Ground & Grid Note</span>
                <span class="mobile-title">
                    <span class="title-year">Ground & Grid Note</span>
                </span>
            </h1>
            <div class="header-right">
                <button class="language-toggle" id="language-toggle">EN</button>
            </div>
        </header>
            
        <div class="menu-items" id="menu-items">
            <div class="close-btn" id="close-menu"></div>
            <div class="menu-title">Deepdown Studio</div>
            <a href="/">Home</a>
            <a href="/about.html">About</a>
            <a href="https://smartstore.naver.com/deepdown-studio/" target="blank">Shop</a>
            <a href="/card/index.html">Anti-Tarot Card</a>
            <a href="/calendar/">Calendar 2025</a>
        </div>
        
        <div class="subtitle">
            <span class="subpc">그라운드에서 펼치고 그리드에서 정리하는 노트</span>
            <span class="subm">
                Ground & Grid Note<br>
                그라운드에서 펼치고 그리드에서 정리합니다.
            </span>
        </div>

        <div class="subsub">
           <span class="subsub-pc"> 무지(그라운드) 페이지에서 필기를 합니다. 그리드 페이지에서 다시 정리합니다.<br></span>    
           <span class="subsub-m"> 무지(그라운드) 페이지에서 필기를 합니다. <br> 그리드 페이지에서 다시 정리합니다.<br></span>
        </div>

        <div class="calendar-container">
            <button class="nav-button prev" id="prevButton"></button>
            <div class="calendar-content">
                <div class="image-container">
            <img id="calendarImage1" class="swipe-image active" src="images/note_01.png" alt="Ground & Grid Note Image">

                    <img id="calendarImage2" class="swipe-image" src="" alt="Ground & Grid Note Image">
                </div>
                <div class="dot-indicators">
                    <div class="dot active" data-month="1"></div>
                    <div class="dot" data-month="2"></div>
                    <div class="dot" data-month="3"></div>
                    <div class="dot" data-month="4"></div>
                </div>
                <div class="text-content">
                    <div class="text-content-inner" id="calendarText">
                        <!-- 텍스트 내용은 JavaScript에서 동적으로 변경됩니다 -->
                    </div>
                </div>
            </div>
            <button class="nav-button next" id="nextButton"></button>
        </div>
    </div>
    
    <div class="white-section">
<img id="bottomImage" src="images/in_1.png" alt="Ground & Grid Note" class="image-1">	
        <div class="normalt"> <br><b>Ground & Grid Note<br></b>
            생각을 그라운드에서 펼치고 그리드에서 정리하는<br>
            딥다운 스튜디오의 노트
        </div>
        <div class="button-container">
            <button class="custom-button">
                <a href="https://smartstore.naver.com/deepdown-studio/" target="blank">
                    <span class="custom-button-content">
                        신나게 사러 달려나가기
                        <span class="custom-button-arrow"></span>
                    </span>
                </a>
            </button>
        </div>
    </div>
    
    <div class="top-button" id="topButton"></div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const hamburger = document.getElementById('hamburger-menu');
        const menuItems = document.getElementById('menu-items');
        const closeBtn = document.getElementById('close-menu');
        const dimmedBg = document.getElementById('dimmed-bg');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const calendarImage1 = document.getElementById('calendarImage1');
        const calendarImage2 = document.getElementById('calendarImage2');
        const calendarText = document.getElementById('calendarText');
        const bottomImage = document.getElementById('bottomImage');
        const languageToggle = document.getElementById('language-toggle');
        const topButton = document.getElementById('topButton');
        const dots = document.querySelectorAll('.dot');
        
        let currentMonth = 1;
        let activeImage = 1;
        let isTransitioning = false;
        const imageCache = {};
        let currentLanguage = 'ko';

        const translations = {
            ko: {
                title: 'Ground & Grid Note',
                subtitle: '그라운드에서 펼치고 그리드에서 정리하는 노트',
                bottomText: 'Ground & Grid Note<br>생각을 그라운드에서 펼치고 그리드에서 정리하는<br>딥다운 스튜디오의 노트',
                buttonText: '신나게 사러 달려나가기',
                menuHome: 'Home',
                menuAbout: 'About',
                menuShop: 'Shop',
                menuCard: 'Anti-Tarot Card',
                menuCalendar: 'Calendar 2025'
            },
            en: {
                title: 'Ground & Grid Note',
                subtitle: "Express on Ground, organize on Grid",
                bottomText: 'Ground & Grid Note<br>A note from Deepdown Studio<br>to expand your ideas on the ground and organize them on the grid',
                buttonText: 'Run excitedly to buy',
                menuHome: 'Home',
                menuAbout: 'About',
                menuShop: 'Shop',
                menuCard: 'Anti-Tarot Card',
                menuCalendar: 'Calendar 2025'
            }
        };

        // 노트 정보
        const noteContent = [
            {
        image: 'images/note_01.png',
                text: {
                    ko: '<b>Take notes, so Let the power of simple notes win over cleverness. </b><br> <b>둔한 필기가 총명함을 이기게 하세요.</b><br>그리드 페이지에서는 체계적으로 정리할 수 있습니다.<br><br>아이디어를 발전시키는 가장 이상적인 방식입니다.',
                    en: '<b>Ground & Grid Note</b><br><br>On blank (Ground) pages, you can freely express your thoughts.<br><br>On Grid pages, you can systematically organize them.<br><br>This is the ideal way to develop your ideas.'
                }
            },
            {
        image: 'images/note_02.png',
                text: {
                    ko: '<b>Write Your Story and Make people cry.</b><br> <b>당신의 이야기를 쓰고 사람들을 울리세요. </b><br><br>무지 펼침페이지 3장 이후, 40칸이 그려진 그리드 펼침페이지가 나타납니다. 이 구조가 8번 반복됩니다. 총 32장(64p)<br> 128*180mm(B6사이즈). 실제본으로 펼침이 쉽습니다. <br>표지 젠틀페이스, 내지 미색 모조지 100g. <br><br><br> 창작의 이야기와 글에서 시작합니다. 그리고 위대한 이야기에는 개인적인 이야기가 담겨있어요. 위대한 작가의 작품에 개인적인 이야기가 조금도 없었다면 그것은 거짓이라고 생각해요. 우리가 마주친 사건과 사람들은 이야기로서 놀라운 힘을 가집니다. 그것으로 나만 울지 말고 사람들을 울리세요.',
                    en: '<b>Various Applications</b><br><br>Daily notes, meeting minutes, idea sketches, planning, etc.<br><br>Write freely on Ground pages and organize systematically on Grid pages.'
                }
            },
            {
        image: 'images/note_03.png',
                text: {
                    ko: '<b>고품질 재질</b><br><br>필기감이 좋은 프리미엄 용지와 견고한 제본으로<br><br>오래 사용해도 내구성이 뛰어납니다.',
                    en: '<b>High Quality Materials</b><br><br>Premium paper with excellent writing feel and sturdy binding<br><br>Ensures durability even with prolonged use.'
                }
            },
            {
        image: 'images/note_04.png',
                text: {
                    ko: '<b>심플한 디자인</b><br><br>집중력을 높이는 미니멀한 디자인으로<br><br>어디서나 사용하기 좋습니다.',
                    en: '<b>Simple Design</b><br><br>Minimal design that enhances focus<br><br>Perfect for use anywhere.'
                }
            }
        ];

        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const targetMonth = parseInt(dot.dataset.month);
                if (targetMonth > currentMonth) {
                    updateContent(targetMonth, 'next');
                } else if (targetMonth < currentMonth) {
                    updateContent(targetMonth, 'prev');
                }
                currentMonth = targetMonth;
            });
        });

        function isMobile() {
            return window.innerWidth <= 768;
        }

        function openMenu() {
            menuItems.classList.add('menu-open');
            dimmedBg.style.display = 'block';
        }

        function closeMenu() {
            menuItems.classList.remove('menu-open');
            dimmedBg.style.display = 'none';
        }

        function preloadImage(src) {
            return new Promise((resolve, reject) => {
                if (imageCache[src]) {
                    resolve(imageCache[src]);
                } else {
                    const img = new Image();
                    img.onload = () => {
                        imageCache[src] = img;
                        resolve(img);
                    };
                    img.onerror = reject;
                    img.src = src;
                }
            });
        }

        async function updateContent(month, direction) {
            if (isTransitioning) return;
            isTransitioning = true;

            const nextImage = activeImage === 1 ? calendarImage2 : calendarImage1;
            const currentImage = activeImage === 1 ? calendarImage1 : calendarImage2;
            
            const nextImageSrc = noteContent[month - 1].image;
            
            try {
                await preloadImage(nextImageSrc);
                
                nextImage.src = nextImageSrc;
                nextImage.style.display = 'block';
                currentImage.style.display = 'block';

                // 더 부드러운 애니메이션을 위한 requestAnimationFrame 사용
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        nextImage.style.transform = direction === 'next' ? 
                            'translateX(100%)' : 'translateX(-100%)';
                        currentImage.style.transform = 'translateX(0)';

                        requestAnimationFrame(() => {
nextImage.style.transition = 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
currentImage.style.transition = 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                            
nextImage.style.transform = 'translateX(0)';
currentImage.style.transform = direction === 'next' ? 
    'translateX(-100%)' : 'translateX(100%)';
                        });
                    });
                });

                setTimeout(() => {
                    if (direction) {
                        currentImage.style.display = 'none';
                        nextImage.style.transition = 'none';
                        currentImage.style.transition = 'none';
                    }
                    
                    currentImage.classList.remove('active');
                    nextImage.classList.add('active');
                    
                    activeImage = activeImage === 1 ? 2 : 1;
                    
                    // 도트 인디케이터 업데이트
                    const dots = document.querySelectorAll('.dot');
                    dots.forEach(dot => {
                        dot.classList.remove('active');
                        if (parseInt(dot.dataset.month) === month) {
                            dot.classList.add('active');
                        }
                    });
                    
                    isTransitioning = false;

                    document.querySelector('.image-container').style.opacity = '1';
                }, direction ? 300 : 0);

                calendarText.innerHTML = noteContent[month - 1].text[currentLanguage];
            } catch (error) {
                console.error('Failed to load image:', error);
                isTransitioning = false;
            }
        }

        function showNextMonth() {
            if (currentMonth < 4) {
                currentMonth++;
                updateContent(currentMonth, 'next');
            }
        }

        function showPreviousMonth() {
            if (currentMonth > 1) {
                currentMonth--;
                updateContent(currentMonth, 'prev');
            }
        }

        function adjustButtonsPosition() {
            if (window.innerWidth <= 768) {
                const imageContainer = document.querySelector('.image-container');
                const prevButton = document.getElementById('prevButton');
                const nextButton = document.getElementById('nextButton');

                imageContainer.appendChild(prevButton);
                imageContainer.appendChild(nextButton);
            } else {
                const calendarContainer = document.querySelector('.calendar-container');
                const prevButton = document.getElementById('prevButton');
                const nextButton = document.getElementById('nextButton');

                calendarContainer.insertBefore(prevButton, calendarContainer.firstChild);
                calendarContainer.appendChild(nextButton);
            }
        }

        function changeLanguage() {
            currentLanguage = currentLanguage === 'ko' ? 'en' : 'ko';
            languageToggle.textContent = currentLanguage === 'ko' ? 'EN' : 'KO';
            
            // 페이지 요소 업데이트
            document.querySelector('.pc-title').textContent = translations[currentLanguage].title;
            document.querySelector('.title-year').textContent = translations[currentLanguage].title;
            document.querySelector('.subpc').textContent = translations[currentLanguage].subtitle;
            
            if (currentLanguage === 'en') {
                document.querySelector('.subm').innerHTML = 'Ground & Grid Note<br>Express on Ground, organize on Grid';
            } else {
                document.querySelector('.subm').innerHTML = 'Ground & Grid Note<br>그라운드에서 펼치고 그리드에서 정리합니다.';
            }
            
            document.querySelector('.normalt').innerHTML = translations[currentLanguage].bottomText;
            document.querySelector('.custom-button .custom-button-content').firstChild.textContent = translations[currentLanguage].buttonText;
            
            // 현재 콘텐츠 업데이트
            calendarText.innerHTML = noteContent[currentMonth - 1].text[currentLanguage];
        }

        updateContent(1); // 초기 컨텐츠 업데이트 시 direction을 지정하지 않음
        adjustButtonsPosition();

        hamburger.addEventListener('click', openMenu);
        closeBtn.addEventListener('click', closeMenu);
        dimmedBg.addEventListener('click', closeMenu);
        nextButton.addEventListener('click', showNextMonth);
        prevButton.addEventListener('click', showPreviousMonth);
        languageToggle.addEventListener('click', changeLanguage);
        window.addEventListener('resize', adjustButtonsPosition);

        let touchStartX = 0;
        let touchEndX = 0;
        let touchMoveX = 0;
        let isDragging = false;

        const handleTouchStart = (e) => {
            touchStartX = e.touches[0].clientX;
            isDragging = true;
            
            // 현재 활성화된 이미지
            const currentImage = document.querySelector('.swipe-image.active');
            currentImage.style.transition = 'none';
        };

        const handleTouchMove = (e) => {
            if (!isDragging) return;
            
            touchMoveX = e.touches[0].clientX;
            const deltaX = touchMoveX - touchStartX;
            const currentImage = document.querySelector('.swipe-image.active');
            
            // 드래그 중인 이미지 움직임을 부드럽게 처리
            requestAnimationFrame(() => {
                currentImage.style.transform = `translateX(${deltaX}px)`;
            });
        };

        const handleTouchEnd = (e) => {
            if (!isDragging) return;
            
            isDragging = false;
            touchEndX = e.changedTouches[0].clientX;
            const deltaX = touchEndX - touchStartX;
            
            if (Math.abs(deltaX) > 50) {
                if (deltaX > 0) {
                    showPreviousMonth();
                } else {
                    showNextMonth();
                }
            } else {
                // 스와이프가 충분하지 않으면 원위치
                const currentImage = document.querySelector('.swipe-image.active');
                currentImage.style.transition = 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                currentImage.style.transform = 'translateX(0)';
            }
        };

        if (window.innerWidth <= 768) {
            calendarImage1.addEventListener('touchstart', handleTouchStart);
            calendarImage1.addEventListener('touchmove', handleTouchMove);
            calendarImage1.addEventListener('touchend', handleTouchEnd);
            calendarImage2.addEventListener('touchstart', handleTouchStart);
            calendarImage2.addEventListener('touchmove', handleTouchMove);
            calendarImage2.addEventListener('touchend', handleTouchEnd);
        }
        
        // Top 버튼 기능
        topButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Top 버튼 표시/숨김 처리
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 100) {
                topButton.style.display = 'flex';
            } else {
                topButton.style.display = 'none';
            }
        });
    });


</script>
</body>
</html>
